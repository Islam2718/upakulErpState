<div class="contentframe">
  <div class="card shadow-none border my-4" data-component-card="data-component-card">
    <div class="card-header p-4 border-bottom bg-body">
      <div class="row g-3 justify-content-between align-items-center">
        <div class="col-12 col-md">
          <h4 class="text-body mb-0" data-anchor="data-anchor" id="custom-styles-example">
            Menu Entry
          </h4>
        </div>
      </div>
    </div>
    <div class="card-body">
      <form [formGroup]="menuForm" (ngSubmit)="onSubmit()" class="row g-3 needs-validation was-validated">

        <!-- First Line: Three Fields side by side -->
        <div class="col-md-3">
          <label class="form-label">Module</label>
          <!-- fire event -->
          <select formControlName="ModuleId" (change)="onModuleChange($event)" class="form-select" required>
            <option *ngFor="let type of modules" [value]="type.value">{{ type.text }}</option>
          </select>
          <div class="invalid-feedback">Please Select a Module.</div>
        </div>

        <div class="col-md-3">
          <label class="form-label">Parent Menu</label>
          <select formControlName="ParentId" class="form-select">
            <!-- after fire event data load -->
            <option *ngFor="let entry of parentMenuEntries$ | async" [value]="entry.value">{{ entry.text }}</option>
          </select>
        </div>

        <div class="col-md-3">
          <label class="form-label">Menu Text</label>
          <input class="form-control" formControlName="MenuText" type="text" required />
        </div>
        <div class="col-md-3">
          <label class="form-label">Icon Class</label>
          <input class="form-control" formControlName="IconCss" type="text" />
        </div>
        <div class="col-md-3">
          <label class="form-label">Parent Url</label>
          <input class="form-control" formControlName="ParentUrl" type="text" />
        </div>
        <div class="col-md-3">
          <label class="form-label">Parent Component</label>
          <input class="form-control" formControlName="ParentComponent" type="text" />
        </div>
        <div class="col-md-3">
          <label class="form-label">Child Url</label>
          <input class="form-control" formControlName="ChildUrl" type="text" />
        </div>
        <div class="col-md-3">
          <label class="form-label">Child Component</label>
          <input class="form-control" formControlName="ChildComponent" type="text" />
        </div>


        <!-- Submit Button -->
        <div class="col-12">
          <button class="btn btn-primary" type="submit" [disabled]="menuForm.invalid || isSubmitting">
            {{ isSubmitting ? 'Saving...' : button.Save }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>